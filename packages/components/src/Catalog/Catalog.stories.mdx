import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { PageTreeProvider } from '@pagio/builder';
import { Default } from '../Typography';
import { CloseIcon } from '../icons';
import { Catalog } from './Catalog';
import { CatalogOpenCloseButton, CatalogItem } from './Catalog.styles';
import { components as mockComponents } from './__mocks__/components';

export const displayNormal = (Story) => <div style={{ height: '100%', backgroundColor: '#f1f1f1' }}><Story /></div>

export const onChangeExpanded = (expanded) => alert(`change expanded to: ${expanded ? 'true': 'false'}`);

<Meta title="Catalog" component={Catalog} />

# Catalog

<Canvas>
  <Story
    name="Catalog"
    args={{
      expanded: true,
      onChangeExpanded,
      components: mockComponents
    }}
    decorators={[displayNormal]}
  >
    {({ components, ...args }) => (
      <PageTreeProvider components={components}>
        <Catalog {...args}/>
      </PageTreeProvider>
    )}
  </Story>
  <Story
    name="CatalogOpenCloseButton"
    args={{
      expanded: false,
      onChangeExpanded,
    }}
  >
    {(args) => (
      <CatalogOpenCloseButton {...args}>
        <Default>Add Components</Default>
        <CloseIcon />
      </CatalogOpenCloseButton>
    )}
  </Story>
  <Story name="CatalogItem">
    <CatalogItem>CatalogItem</CatalogItem>
  </Story>
</Canvas>
